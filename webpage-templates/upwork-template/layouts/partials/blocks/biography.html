{{/* Hugo Blox: Biography */}}
{{/* Documentation: https://hugoblox.com/blocks/ */}}
{{/* License: https://github.com/HugoBlox/hugo-blox-builder/blob/main/LICENSE.md */}}

{{/* Initialise */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}

{{ $author := $block.content.username | default "admin" }}

{{ $person_page_path := (printf "/authors/%s" $author) }}
{{ $person_page := site.GetPage $person_page_path }}
{{ if not $person_page }}
{{ errorf "Could not find an author page at `%s`. Please check the value of `author` in your About widget and create an associated author page if one does not already exist. See https://docs.hugoblox.com/page-builder/#about " $person_page_path }}
{{end}}
{{ $person := $person_page.Params }}
{{ $avatar := ($person_page.Resources.ByType "image").GetMatch "*avatar*" }}

<style>  
  .wg-biography .container {max-width:1170px !important; }
 
  .biography_sec h1 {font-size: 1.75rem;}
  .biography_sec h1, .biography_sec h5 {text-align: center; font-family: "Montserrat",sans-serif !important;}
  .biography_sec i, .biography_sec a {color: #2962ff;}
  /* .biography_sec p, .biography_sec ul li {font-size: 16px;} */
  .biography_sec {font-size: 1.25rem;}
  .biography_sec h5 {text-align: left;}
  .bio_education ul li {gap:10px; font-family: "Montserrat",sans-serif !important;}
</style>

<main class="flex-auto biography_sec" id="bio">
  <div class="sm:px-8 mt-16 sm:mt-32">
           <div class="row">
            <div class="col-md-5">
                {{ if $avatar }}
                {{ $avatar_image := $avatar.Process "Fill 800x800 Center webp" }}
              <img alt="{{$person_page.Title}}" class="aspect-square rotate-3 rounded-2xl bg-zinc-100 object-cover dark:bg-zinc-800" data-nimg="1" decoding="async"
                                                              height="800" loading="lazy"
                                                              src="{{ $avatar_image.RelPermalink }}"
                                                              style="color: transparent;"
                                                              width="800">
                {{end}}
                <h1
              class="text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl">
              {{ with ($block.content.title | emojify | $page.RenderString) | default $person_page.Title }}{{.}}{{end}}
            </h1>
            <div class="lg:pl-20">
              <div class="text-2xl sm:text-4xl pt-1 d-flex justify-content-center slinks">
                {{ partial "social_links" $person_page }}
              </div>

            </div>
            </div>
            <div class="col-md-7">
              
              <div class="mt-6 space-y-7 text-base text-zinc-600 dark:text-zinc-400 prose dark:prose-invert">
                {{ with ($block.content.text | emojify | $page.RenderString) | default $person_page.Content }}{{.}}{{end}}
              </div>
              <div class="row pt-3">
                {{ if $person.education }}
                <div class="col-md-6 bio_education">
                  <h5 class="fs-5 fw-bold">Education</h5>
                  <ul class="list-unstyled mb-0">
                    {{ range $index, $item :=  $person.education }}
                    <li class="fs-6 d-flex gap-2">
                      <div><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M20 12.875v5.068c0 2.754-5.789 4.057-9 4.057-3.052 0-9-1.392-9-4.057v-6.294l9 4.863 9-3.637zm-8.083-10.875l-12.917 5.75 12 6.5 11-4.417v7.167h2v-8.25l-12.083-6.75zm13.083 20h-4c.578-1 1-2.5 1-4h2c0 1.516.391 2.859 1 4z"/></svg></div>
                      <p>{{$item.course|markdownify|emojify}}</p>  
                    </li>
                    {{ end }}                    
                  </ul>
                </div>
                {{ end }}
                {{ if $person.work }}
                  <div class="col-md-6">
                    <h5 class="fs-5 fw-bold">Employment</h5>
                    <ul class="pl-3 mb-0">
                      {{ range $index, $item :=  $person.work }}
                      <li>{{$item.position|markdownify|emojify}}</li>
                      {{ end }}
                    </ul>
                  </div>
                {{ end }}
                
               
                
              </div>
            </div>
            
          </div>
  </div>
  
</main>
